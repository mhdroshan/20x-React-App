{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SlideDown = void 0;\nvar tslib_1 = require(\"tslib\");\nvar react_1 = (0, tslib_1.__importStar)(require(\"react\"));\nvar SlideDownContent = function (_super) {\n  (0, tslib_1.__extends)(SlideDownContent, _super);\n  function SlideDownContent(props) {\n    var _this = _super.call(this, props) || this;\n    _this.outerRef = null;\n    _this.handleRef = function (ref) {\n      _this.outerRef = ref;\n      if (_this.props.forwardedRef) {\n        if (typeof _this.props.forwardedRef === 'function') {\n          _this.props.forwardedRef(ref);\n        } else if (typeof _this.props.forwardedRef === 'object') {\n          var forwardedRef = _this.props.forwardedRef;\n          forwardedRef.current = ref;\n        } else {\n          throw new Error(\"Invalid forwardedRef \".concat(_this.props.forwardedRef));\n        }\n      }\n    };\n    _this.handleTransitionEnd = function (evt) {\n      if (evt.target === _this.outerRef && evt.propertyName === 'height') {\n        if (_this.state.childrenLeaving) {\n          _this.setState({\n            children: null,\n            childrenLeaving: false\n          }, function () {\n            return _this.endTransition();\n          });\n        } else {\n          _this.endTransition();\n        }\n      }\n    };\n    _this.state = {\n      children: props.children,\n      childrenLeaving: false\n    };\n    return _this;\n  }\n  SlideDownContent.prototype.componentDidMount = function () {\n    if (this.outerRef) {\n      if (this.props.closed || !this.props.children) {\n        this.outerRef.classList.add('closed');\n        this.outerRef.style.height = '0px';\n      } else if (this.props.transitionOnAppear) {\n        this.startTransition('0px');\n      } else {\n        this.outerRef.style.height = 'auto';\n      }\n    }\n  };\n  SlideDownContent.prototype.getSnapshotBeforeUpdate = function () {\n    return this.outerRef ? this.outerRef.getBoundingClientRect().height + 'px' : null;\n  };\n  SlideDownContent.getDerivedStateFromProps = function (props, state) {\n    if (props.children) {\n      return {\n        children: props.children,\n        childrenLeaving: false\n      };\n    } else if (state.children) {\n      return {\n        children: state.children,\n        childrenLeaving: true\n      };\n    } else {\n      return null;\n    }\n  };\n  SlideDownContent.prototype.componentDidUpdate = function (_prevProps, _prevState, snapshot) {\n    if (this.outerRef) {\n      this.startTransition(snapshot);\n    }\n  };\n  SlideDownContent.prototype.startTransition = function (prevHeight) {\n    var endHeight = '0px';\n    if (!this.props.closed && !this.state.childrenLeaving && this.state.children) {\n      this.outerRef.classList.remove('closed');\n      this.outerRef.style.height = 'auto';\n      endHeight = getComputedStyle(this.outerRef).height;\n    }\n    if (parseFloat(endHeight).toFixed(2) !== parseFloat(prevHeight).toFixed(2)) {\n      this.outerRef.classList.add('transitioning');\n      this.outerRef.style.height = prevHeight;\n      this.outerRef.offsetHeight;\n      this.outerRef.style.transitionProperty = 'height';\n      this.outerRef.style.height = endHeight;\n    }\n  };\n  SlideDownContent.prototype.endTransition = function () {\n    this.outerRef.classList.remove('transitioning');\n    this.outerRef.style.transitionProperty = 'none';\n    this.outerRef.style.height = this.props.closed ? '0px' : 'auto';\n    if (this.props.closed || !this.state.children) {\n      this.outerRef.classList.add('closed');\n    }\n  };\n  SlideDownContent.prototype.render = function () {\n    var _a = this.props,\n      _b = _a.as,\n      as = _b === void 0 ? 'div' : _b,\n      children = _a.children,\n      className = _a.className,\n      closed = _a.closed,\n      transitionOnAppear = _a.transitionOnAppear,\n      forwardedRef = _a.forwardedRef,\n      rest = (0, tslib_1.__rest)(_a, [\"as\", \"children\", \"className\", \"closed\", \"transitionOnAppear\", \"forwardedRef\"]);\n    var containerClassName = className ? 'react-slidedown ' + className : 'react-slidedown';\n    return react_1.default.createElement(as, (0, tslib_1.__assign)({\n      ref: this.handleRef,\n      className: containerClassName,\n      onTransitionEnd: this.handleTransitionEnd\n    }, rest), this.state.children);\n  };\n  SlideDownContent.defaultProps = {\n    transitionOnAppear: true,\n    closed: false\n  };\n  return SlideDownContent;\n}(react_1.Component);\nexports.SlideDown = (0, react_1.forwardRef)(function (props, ref) {\n  return react_1.default.createElement(SlideDownContent, (0, tslib_1.__assign)({}, props, {\n    forwardedRef: ref\n  }));\n});\nexports.default = exports.SlideDown;","map":{"version":3,"mappings":"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","names":["props","_super","_this","ref","outerRef","forwardedRef","current","Error","evt","target","propertyName","state","childrenLeaving","setState","children","endTransition","SlideDownContent","closed","classList","add","style","height","transitionOnAppear","startTransition","getBoundingClientRect","_prevProps","_prevState","snapshot","prevHeight","endHeight","remove","getComputedStyle","parseFloat","toFixed","offsetHeight","transitionProperty","_a","_b","as","className","rest","containerClassName","react_1","createElement","handleRef","onTransitionEnd","handleTransitionEnd","exports"],"sourceRoot":"","sources":["slidedown.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}